<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Terminal de Produção - Mapa de Lotes</title>
  <style>
    :root {
      --done: #28a745; /* verde - produzido */
      --remaining: #f0ad4e; /* amarelo - falta */
      --current: #0d6efd; /* azul - em execução */
      --bg: #f8f9fa;
      --terminal-bg: #1e1e1e;
      --terminal-text: #f0f0f0;
      --terminal-prompt: #00ff00;
      --terminal-error: #ff6b6b;
    }

    body {
      font-family: 'Courier New', monospace;
      background: var(--bg);
      margin: 0;
      padding: 20px;
      display: flex;
      flex-direction: column;
      height: 100vh;
    }

    h1 {
      font-size: 18px;
      margin: 0 0 12px;
    }

    .container {
      display: flex;
      gap: 20px;
      flex: 1;
      overflow: hidden;
    }

    .map-area {
      background: white;
      padding: 12px;
      border-radius: 8px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.06);
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .terminal-area {
      width: 400px;
      display: flex;
      flex-direction: column;
    }

    svg {
      width: 100%;
      flex: 1;
      display: block;
    }

    .terminal {
      background: var(--terminal-bg);
      color: var(--terminal-text);
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.06);
      flex: 1;
      overflow-y: auto;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      line-height: 1.4;
    }

    .terminal-line {
      margin-bottom: 5px;
    }

    .terminal-prompt {
      color: var(--terminal-prompt);
    }

    .terminal-error {
      color: var(--terminal-error);
    }

    .terminal-input {
      display: flex;
      align-items: center;
      margin-top: 10px;
    }

    .terminal-input span {
      color: var(--terminal-prompt);
      margin-right: 8px;
    }

    .terminal-input input {
      background: transparent;
      border: none;
      color: var(--terminal-text);
      font-family: 'Courier New', monospace;
      font-size: 14px;
      flex: 1;
      outline: none;
    }

    .legend {
      display: flex;
      gap: 12px;
      align-items: center;
      margin-top: 12px;
      flex-wrap: wrap;
    }

    .legend span {
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .box {
      width: 16px;
      height: 10px;
      border-radius: 2px;
    }

    .help {
      background: #fff;
      padding: 12px;
      border-radius: 8px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.04);
      margin-top: 12px;
    }

    .help h3 {
      margin-top: 0;
      font-size: 14px;
    }

    .help ul {
      margin: 8px 0;
      padding-left: 20px;
    }

    .help li {
      font-size: 12px;
      margin-bottom: 4px;
    }

    .help code {
      background: #f1f1f1;
      padding: 2px 4px;
      border-radius: 3px;
      font-size: 11px;
    }

    .map-overlay {
      pointer-events: none;
    }

    .lote {
      cursor: pointer;
      transition: opacity 0.2s;
    }

    .lote:hover {
      opacity: 0.8;
    }
  </style>
</head>
<body>
  <h1>Terminal de Produção - Mapa de Lotes</h1>
  
  <div class="container">
    <div class="map-area">
      <svg id="svgmap" viewBox="0 0 2550 3300" xmlns="http://www.w3.org/2000/svg" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd">
        <!-- SEU SVG INSERIDO AQUI -->
        <defs id="defs2955"></defs>
        <sodipodi:namedview id="namedview2955" pagecolor="#ffffff" bordercolor="#000000" borderopacity="0.25" inkscape:showpageshadow="2" inkscape:pageopacity="0.0" inkscape:pagecheckerboard="0" inkscape:deskcolor="#d1d1d1" inkscape:document-units="in" inkscape:zoom="2.2900617" inkscape:cx="557.62689" inkscape:cy="436.01445" inkscape:window-width="1920" inkscape:window-height="1057" inkscape:window-x="-8" inkscape:window-y="-8" inkscape:window-maximized="1" inkscape:current-layer="body"></sodipodi:namedview>
        <title id="title1">ZWCAD SVG Drawing</title>
        <desc id="desc1">Produce by ZWCAD</desc>
        
        <!-- Lotes principais -->
        <path d="m 1282.8294,870.85287 h -2 -3 l -3,-1 -2,-2 -2,-1 -2,-2 -2,-3 -1,-2 -1,-3 v -2 l -1,-3 3,-253 h 4 v -2 l 1,-2 1,-2 3,-3 1,-2 2,-3 1,-3 1,-3 v -3 -3 -3 l -1,-3 -1,-3 -2,-3 -2,-2 -2,-3 -3,-1 -3,-2 -3,-1 -3,-1 h -3 -3 l -3,1 -3,1 -3,1 -2,2 -3,2 -2,2 -2,2 -1,3 -1,3 -1,3 v 3 3 3 l 1,3 1,3 2,2 2,3 1,2 1,3 1,3 h 5 l -3,253 v 3 2 l -1,3 -2,2 -1,2 -2,2 -3,2 -2,1 -3,1 -2,1 h -3 l -86,-1 h -2 l -3,-1 -3,-1 -2,-1 -2,-2 -2,-2 -2,-2 -1,-2 -1,-3 v -2 l -1,-3 3,-253 h 4 v -2 l 1,-3 1,-1 2,-3 2,-2 2,-3 1,-3 1,-3 v -3 -3 -4 l -1,-3 -2,-3 -1,-2 -2,-3 -3,-2 -2,-2 -3,-1 -3,-1 -3,-1 h -3 -3 l -3.5117,-0.51172 -2.4883,1.51172 -3,2 -3,1 -2,2 -2,3 -2,2 -1,3 -1,3 -1,3 v 3 3 3 l 1,3 1,2 2,3 2,3 1,2 1,3 1,3 h 4 l -2,252 v 3 l -1,3 -1,3 -1,2 -2,3 -3,1 -2,2 -3,1 -3,1 -188.99997,28 -2,1 -3,-1 h -3 l 6,9 8,20 1,-3 2,-2 2,-2 2,-2 2,-2 3,-1 h 3 l 163.99997,-25 h 3 3 l 3,1 2,2 2,1 2,2 2,2 1,3 1,2 1,3 v 3 l -2,246.00003 -1,2 v 3 l -1,2 -1,3 -2,2 -2,2 -2,2 -3,1 -2,1 h -3 -3 l -149.99997,-1 h -3 l -3,-1 -2,-1 -2,-1 -3,-2 -2,-2 -1,-2 -5,33 2,-2 3,-2 4,-1 h 3 l 158.99997,2 h 3 3 l 2,1 3,2 2,1 2,2 1,2 2,3 v 2 l 1,3 v 3 l -1,155 v 2 l -1,3 -1,3 -1,2 -2,2 -2,2 -2,2 -2,1 -3,1 -3,1 h -2 l -180.99997,-2 h -2 l -3,-1 -3,-1 -2,-1 -3,-2 -1,-2 -1,3 1,30 2,-2 2,-2 3,-1 2,-1 3,-1 h 3 l 851.99997,8 v -20 h -43 -2 l -3,-1 -3,-1 -2,-1 -2,-2 -2,-2 -2,-2 -1,-2 -1,-3 v -2 l -1,-3 4,-458.00003 v -3 l 1,-2 1,-3 1,-2 2,-3 2,-1 2,-2 3,-1 2,-1 3,-1 h 2 43 l 1,-19 -186,-1 h -3 l -3,-1 -2,-1 -3,-1 -2,-2 -2,-2 -1,-2 -2,-2 -1,-3 v -3 -2 l 2,-253 h 5 v -3 -2 l 2,-2 2,-2 2,-3 1,-2 1,-3 1,-3 1,-4 -1,-3 v -3 l -1,-3 -1,-3 -2,-2 -2,-3 -2,-2 -3,-2 -3,-1 -3,-2 h -3 -3 -3 -3 l -3,1 -3,1 -2,2 -3,2 -2,2 -2,3 -1,2 -1,3 -1,3 v 3 3 3 l 1,3 1,3 2,3 2,2 1,3 1,3 1,3 h 5 l -2,252 -1,3 v 3 l -1,2 -2,3 -1,2 -2,2 -2,1 -3,2 -2,1 h -3 -3 -86 l -2,-1 h -3 l -2,-1 -3,-1 -2,-2 -2,-2 -2,-2 -1,-3 -1,-2 v -3 -3 l 2,-253 4,1 1,-3 v -2 l 1,-2 3,-2 2,-3 1,-3 1,-3 1,-3 v -3 -3 -3 l -1,-3 -1,-3 -2,-3 -2,-2 -2,-2 -3,-2 -3,-2 -3,-1 h -3 l -3,-1 h -3 l -3,1 -3,1 -3,1 -2,2 -3,2 -2,2 -2,3 -1,2 -1,3 -1,3 v 3 3 3 l 1,3 1,3 2,3 2,2 1,3 1,2 1,3 h 5 l -3,253 v 3 3 l -1,2 -2,3 -1,2 -2,2 -2,1 -3,1 -2,1 -3,1 h -3 z m 286,22 h 43 l 43,1 h 3 3 l 2,1 3,2 2,1 2,2 1,2 2,3 v 2 l 1,3 v 3 l -4,458.00003 v 2 l -1,3 -1,3 -1,2 -2,2 -1,2 -3,2 -2,1 -3,1 h -2 l -3,1 -43,-1 h -43 -3 l -2,-1 -3,-1 -2,-1 -2,-2 -2,-2 -2,-2 -1,-2 -1,-3 -1,-3 v -2 l 4,-458.00003 v -3 l 1,-3 1,-2 1,-3 2,-2 2,-2 2,-1 2,-2 h 3 l 3,-1 z m -143,-1 h 43 43 l 3,1 h 3 l 2,1 2,1 3,2 2,2 1,2 1,3 1,2 1,3 v 3 l -4,457.00003 v 3 l -1,3 -1,2 -1,3 -2,2 -2,2 -2,1 -2,2 -3,1 h -2 -3 -43 -43 l -3,-1 h -2 l -3,-1 -2,-1 -2,-2 -2,-2 -2,-2 -1,-3 -1,-2 -1,-3 v -3 l 4,-458.00003 v -2 l 1,-3 1,-2 1,-3 2,-2 2,-2 2,-1 2,-2 3,-1 h 3 z m -143,-2 43,1 h 43 3 l 2,1 3,1 2,1 3,2 1,2 2,2 1,2 1,3 1,3 v 2 l -4,458.00003 v 3 l -1,3 -1,2 -1,3 -2,2 -2,2 -2,1 -2,1 -3,1 -2,1 h -3 -43 l -43,-1 h -3 -2 l -3,-1 -2,-2 -2,-1 -2,-2 -2,-2 -1,-3 -1,-2 -1,-3 v -3 l 4,-458.00003 v -2 l 1,-3 1,-3 1,-2 2,-2 2,-2 2,-2 2,-1 3,-1 h 2 z m -38,19 -4,458.00003 v 3 l -1,2 -1,3 -1,2 -2,2 -2,2 -2,2 -2,1 -3,1 -3,1 h -2 -43 l -43,-1 h -3 l -3,-1 -2,-1 -2,-1 -3,-2 -2,-2 -1,-2 -1,-2 -1,-3 -1,-2 v -3 l 4,-458.00003 v -3 l 1,-2 1,-3 1,-2 2,-2 2,-2 2,-2 2,-1 3,-1 2,-1 h 3 43 l 43,1 h 3 l 2,1 3,1 2,1 2,2 2,2 2,2 1,2 1,3 1,2 z" stroke="none" fill="#dbdbdb" fill-rule="evenodd" id="lote-1" class="lote" />
        
        <path d="M2100,1373 L2099,1376 V1379 L2098,1381 L2096,1384 L2095,1386 L2093,1388 L2091,1389 L2088,1391 L2086,1392 H2083 H2080 L1751,1389 V1409 H1794 H1797 L1799,1410 L1802,1411 L1804,1412 L1806,1414 L1808,1416 L1810,1418 L1811,1420 L1812,1423 L1813,1425 V1428 L1809,1838 V1841 V1844 L1808,1846 L1806,1849 L1805,1851 L1803,1853 L1800,1854 L1798,1856 L1795,1857 H1793 H1790 H1747 H1704 L1702,1856 H1699 L1696,1855 L1694,1853 L1692,1852 L1690,1850 L1688,1848 L1687,1845 L1686,1843 V1840 L1685,1837 L1689,1427 V1424 L1690,1422 L1691,1419 L1692,1417 L1694,1415 L1696,1413 L1698,1411 L1700,1410 L1703,1409 L1705,1408 H1708 H1651 H1654 H1656 L1659,1409 L1661,1411 L1663,1412 L1665,1414 L1667,1417 L1668,1419 L1669,1422 L1670,1424 V1427 L1667,1775 V1805 L1666,1811 V1814 V1817 L1665,1820 L1663,1823 L1661,1825 L1659,1828 L1657,1830 L1654,1831 L1651,1833 L1648,1834 H1645 H1642 H1639 L1636,1833 L1633,1832 H1632 L1623,1828 L1613,1824 L1604,1821 L1595,1818 L1585,1816 L1575,1814 L1566,1813 L1556,1812 L1553,1811 H1551 L1549,1809 L1547,1808 L1546,1806 L1544,1804 L1543,1802 V1800 V1797 V1781 V1774 L1546,1426 V1423 L1547,1420 L1548,1418 L1549,1416 L1551,1413 L1552,1411 L1555,1410 L1557,1409 L1560,1408 L1562,1407 H1565 L1508,1406 L1510,1407 H1513 L1516,1408 L1518,1410 L1520,1411 L1522,1413 L1524,1415 L1525,1418 L1526,1420 V1423 L1527,1426 L1524,1774 V1781 L1523,1797 V1800 V1802 L1522,1804 L1520,1806 L1519,1808 L1517,1809 L1515,1810 L1512,1811 H1510 L1500,1812 L1490,1814 L1480,1815 L1471,1817 L1461,1820 L1451,1823 L1442,1826 L1433,1830 L1430,1831 L1427,1832 H1424 H1420 H1417 L1414,1831 L1411,1829 L1409,1828 L1406,1825 L1404,1823 L1403,1820 L1401,1818 L1400,1815 V1811 L1399,1808 L1400,1766 L1403,1425 V1422 V1419 L1404,1417 L1406,1414 L1407,1412 L1409,1410 L1412,1409 L1414,1407 L1417,1406 H1419 H1422 L1365,1405 H1367 L1370,1406 L1373,1407 L1375,1408 L1377,1410 L1379,1412 L1381,1414 L1382,1417 L1383,1419 V1422 L1384,1424 L1380,1835 V1837 L1379,1840 L1378,1843 L1377,1845 L1375,1847 L1373,1849 L1371,1851 L1369,1852 L1366,1853 H1364 L1361,1854 L1318,1853 H1275 H1272 L1270,1852 L1267,1851 L1265,1850 L1263,1848 L1261,1846 L1259,1844 L1258,1842 L1257,1839 L1256,1836 V1834 L1260,1423 V1421 V1418 L1261,1415 L1263,1413 L1264,1411 L1266,1409 L1268,1407 L1271,1406 L1273,1405 H1276 L1279,1404 H1222 H1224 L1227,1405 L1229,1406 L1232,1407 L1234,1409 L1236,1411 L1238,1413 L1239,1415 L1240,1418 V1421 V1423 L1237,1833 V1836 L1236,1839 L1235,1841 L1234,1844 L1232,1846 L1230,1848 L1228,1849 L1226,1851 L1223,1852 H1220 H1218 H1175 H1132 L1129,1851 H1126 L1124,1850 L1122,1849 L1119,1847 L1118,1845 L1116,1843 L1115,1840 L1114,1838 L1113,1835 V1832 L1116,1422 L1117,1419 V1417 L1118,1414 L1120,1412 L1121,1410 L1123,1408 L1125,1406 L1128,1405 L1130,1404 L1133,1403 H1136 H1078 H1081 L1084,1404 L1086,1405 L1089,1406 L1091,1408 L1093,1409 L1094,1412 L1096,1414 L1097,1417 V1419 V1422 L1094,1832 V1835 L1093,1838 L1092,1840 L1091,1843 L1089,1845 L1087,1847 L1085,1848 L1083,1849 L1080,1850 L1077,1851 H1075 L911,1850 H908 L905,1849 L903,1848 L900,1847 L898,1845 L896,1843 L895,1894 L897,1892 L900,1890 L903,1889 L906,1888 H909 L1074,1889 L1077,1890 H1080 L1082,1891 L1085,1892 L1087,1894 L1089,1896 L1090,1898 L1092,1901 V1903 L1093,1906 V1909 L1089,2347 V2350 V2353 L1088,2355 L1086,2358 L1085,2360 L1083,2362 L1081,2363 L1078,2365 L1076,2366 H1073 H1070 L915,2365 H894 H891 L888,2364 L886,2363 L883,2362 L881,2360 L879,2358 L878,2390 L881,2388 L883,2386 L886,2385 L889,2384 H893 H914 L1070,2385 L1073,2386 H1075 L1078,2387 L1080,2388 L1083,2390 L1084,2392 L1086,2394 L1087,2397 L1088,2399 L1089,2402 V2405 L1084,2930 V2933 V2935 L1083,2938 L1081,2940 L1080,2942 L1078,2944 L1075,2946 L1073,2947 L1070,2948 L1023,2960 L941,2965 L919,2966 H916 L913,2965 L910,2964 L907,2963 L905,2960 L907,2992 L908,2990 L911,2989 L913,2987 L915,2986 L918,2985 H921 L942,2984 L1026,2979 L1060,2970 H1063 H1066 H1069 L1072,2971 L1074,2972 L1077,2974 L1079,2976 L1081,2978 L1082,2981 L1083,2983 L1084,2986 V2989 V3028 L1103,3023 V2974 V2971 L1104,2968 L1105,2966 L1106,2963 L1108,2961 L1110,2959 L1112,2958 L1115,2956 H1118 L1490,2860 L1493,2859 H1496 H1499 L1502,2860 L1505,2861 L1507,2863 L1509,2865 L1511,2867 L1512,2870 L1513,2872 L1514,2875 V2878 V2918 L1534,2912 V2863 V2860 L1535,2857 L1536,2855 L1537,2852 L1539,2850 L1541,2848 L1543,2847 L1546,2846 L1548,2845 L1921,2749 L1924,2748 H1926 H1929 L1932,2749 L1935,2751 L1937,2752 L1939,2754 L1941,2756 L1943,2759 L1944,2762 V2764 L1945,2767 L1944,2807 L1963,2802 L1964,2752 V2749 L1965,2747 L1966,2744 L1967,2742 L1969,2740 L1971,2738 L1973,2736 L1975,2735 L1978,2734 L2251,2664 L2253,2415 V2412 L2254,2409 L2255,2407 L2256,2404 L2258,2402 L2260,2400 L2262,2399 L2264,2397 L2267,2396 H2269 H2272 L2401,2397 V2378 L2272,2377 L2270,2376 H2267 L2264,2375 L2262,2373 L2260,2372 L2258,2370 L2256,2368 L2255,2365 L2254,2363 L2253,2360 V2357 L2257,1918 V1916 L2258,1913 L2259,1911 L2260,1908 L2262,1906 L2264,1904 L2266,1903 L2268,1901 L2271,1900 H2274 H2276 L2405,1901 V1883 L2280,1882 H2280 L2279,1881 H2279 H2279 H2279 V1880 H2279 H2279 L2280,1879 H2280 L2405,1880 V1863 L2219,1861 H2176 L2134,1860 H2131 L2128,1859 L2126,1858 L2123,1857 L2121,1855 L2119,1853 L2118,1851 L2116,1849 L2115,1846 V1844 V1841 L2118,1445 V1398 L2119,1331 L2100,1330 Z M1850,1877 V1876 H1850 H1850 H1850 H1851 H1929 H1930 V1877 H1930 H1931 V1878 H1931 H1930 V1879 H1930 H1929 L1851,1878 H1850 H1850 H1850 V1877 Z M2136,1879 H2136 H2136 V1878 H2137 H2137 L2216,1879 H2216 H2216 H2217 V1880 H2217 H2217 V1881 H2216 H2216 H2216 L2137,1880 H2137 H2136 H2136 H2136 Z M2100,1373 L2099,1445 L2096,1841 L2095,1844 V1846 L2094,1849 L2092,1851 L2091,1853 L2089,1855 L2087,1857 L2084,1858 L2082,1859 L2079,1860 H2076 L2033,1859 H1990 H1988 L1985,1858 L1983,1857 L1980,1856 L1978,1854 L1976,1852 L1974,1850 L1973,1848 L1972,1845 V1842 V1840 L1975,1444 V1438 V1430 V1427 L1976,1424 L1977,1422 L1978,1419 L1980,1417 L1982,1415 L1984,1414 L1986,1412 L1989,1411 H1992 H1994 H2080 L2083,1412 H2085 L2088,1413 L2090,1414 L2093,1416 L2094,1418 L2096,1420 L2097,1423 L2098,1425 L2099,1428 V1431 Z M1986,2393 L2072,2394 H2074 L2077,2395 L2080,2396 L2082,2397 L2084,2399 L2086,2401 L2088,2403 L2089,2405 L2090,2408 V2410 L2091,2413 L2088,2671 V2674 V2677 L2087,2679 L2085,2682 L2084,2684 L2082,2686 L2079,2687 L2077,2689 H2074 L1988,2712 H1985 H1982 H1979 L1977,2711 L1974,2710 L1972,2708 L1969,2706 L1968,2704 L1966,2701 L1965,2699 L1964,2696 V2693 L1967,2412 V2409 V2407 L1968,2404 L1970,2402 L1971,2400 L1973,2398 L1976,2396 L1978,2395 L1980,2394 L1983,2393 Z M1956,1429 V1437 V1444 L1952,1840 V1842 V1845 L1951,1847 L1949,1850 L1948,1852 L1946,1854 L1944,1856 L1941,1857 L1939,1858 H1936 H1933 H1890 H1847 H1845 L1842,1857 L1839,1856 L1837,1855 L1835,1853 L1833,1851 L1831,1849 L1830,1846 L1829,1844 V1841 L1828,1839 L1832,1428 V1426 L1833,1423 L1834,1420 L1835,1418 L1837,1416 L1839,1414 L1841,1412 L1843,1411 L1846,1410 H1848 L1851,1409 L1937,1410 H1940 L1942,1411 L1945,1412 L1947,1413 L1949,1415 L1951,1417 L1953,1419 L1954,1421 L1955,1424 L1956,1427 Z M2133,1898 L2219,1899 H2222 L2224,1900 L2227,1901 L2229,1902 L2232,1904 L2233,1906 L2235,1908 L2236,1910 L2237,1913 L2238,1916 V1918 L2234,2357 V2360 L2233,2363 L2232,2365 L2231,2367 L2229,2370 L2228,2372 L2225,2373 L2223,2374 L2220,2375 L2218,2376 H2215 L2129,2375 H2126 H2124 L2121,2374 L2119,2372 L2117,2371 L2115,2369 L2113,2366 L2112,2364 L2111,2361 L2110,2359 V2356 L2114,1917 V1915 L2115,1912 L2116,1909 L2117,1907 L2119,1905 L2121,1903 L2123,1901 L2125,1900 L2128,1899 H2131 Z M1993,1878 H1993 H1993 V1877 H1994 H1994 L2073,1878 H2073 H2073 H2074 V1879 H2074 H2074 V1880 H2073 H2073 H2073 L1994,1879 H1993 H1993 H1993 H1993 Z M2129,2394 L2215,2395 H2218 L2220,2396 L2223,2397 L2225,2398 L2227,2400 L2229,2402 L2231,2404 L2232,2406 L2233,2409 L2234,2412 V2414 L2232,2634 V2637 L2231,2640 L2230,2642 L2229,2645 L2227,2647 L2225,2649 L2223,2650 L2220,2652 L2218,2653 L2132,2675 H2129 H2126 H2123 L2120,2674 L2117,2673 L2115,2671 L2113,2669 L2111,2667 L2110,2664 L2108,2662 V2659 V2656 L2110,2413 V2411 L2111,2408 L2112,2405 L2113,2403 L2115,2401 L2116,2399 L2119,2397 L2121,2396 L2124,2395 H2126 Z M1990,1897 L2076,1898 H2079 L2081,1899 L2084,1900 L2086,1901 L2088,1903 L2090,1905 L2092,1907 L2093,1909 L2094,1912 L2095,1914 V1917 L2091,2356 V2359 L2090,2361 L2089,2364 L2088,2366 L2086,2368 L2084,2370 L2082,2372 L2080,2373 L2077,2374 L2075,2375 H2072 L1986,2374 H1983 L1981,2373 L1978,2372 L1976,2371 L1974,2369 L1972,2367 L1970,2365 L1969,2363 L1968,2360 L1967,2358 V2355 L1971,1916 V1913 L1972,1911 L1973,1908 L1974,1906 L1976,1904 L1978,1902 L1980,1900 L1982,1899 L1985,1898 L1987,1897 Z M1847,1896 L1933,1897 H1936 H1938 L1941,1898 L1943,1900 L1945,1901 L1947,1903 L1949,1906 L1950,1908 L1951,1911 L1952,1913 V1916 L1948,2355 V2357 L1947,2360 L1946,2363 L1945,2365 L1943,2367 L1941,2369 L1939,2371 L1937,2372 L1934,2373 H1932 L1929,2374 L1843,2373 H1840 L1838,2372 L1835,2371 L1833,2370 L1830,2368 L1829,2366 L1827,2364 L1826,2362 L1825,2359 L1824,2356 V2354 L1828,1915 V1912 L1829,1909 L1830,1907 L1831,1905 L1833,1902 L1834,1900 L1837,1899 L1839,1898 L1842,1897 L1844,1896 Z M1706,1876 L1707,1875 H1707 H1707 H1707 L1708,1874 L1786,1875 H1787 H1787 V1876 H1788 H1788 V1877 H1787 H1787 H1787 L1786,1878 L1708,1877 H1707 H1707 V1876 H1707 Z M1704,1895 H1790 L1792,1896 H1795 L1798,1897 L1800,1899 L1802,1900 L1804,1902 L1806,1904 L1807,1907 L1808,1909 L1809,1912 V1915 L1805,2353 V2356 L1804,2359 L1803,2361 L1802,2364 L1800,2366 L1798,2368 L1796,2369 L1794,2371 L1791,2372 H1788 H1786 H1700 L1697,2371 H1694 L1692,2370 L1690,2369 L1687,2367 L1685,2365 L1684,2363 L1683,2360 L1682,2358 L1681,2355 V2352 L1685,1914 V1911 L1686,1908 V1906 L1688,1903 L1689,1901 L1691,1899 L1694,1898 L1696,1896 L1699,1895 H1701 Z M1843,2392 L1929,2393 H1931 L1934,2394 L1937,2395 L1939,2396 L1941,2397 L1943,2399 L1945,2402 L1946,2404 L1947,2407 V2409 L1948,2412 L1945,2708 V2711 L1944,2714 L1943,2716 L1942,2719 L1940,2721 L1938,2723 L1936,2724 L1933,2726 H1931 L1845,2749 H1842 H1839 H1836 L1833,2748 L1831,2747 L1828,2745 L1826,2743 L1824,2741 L1823,2738 L1822,2736 L1821,2733 V2730 L1824,2411 V2408 V2406 L1825,2403 L1827,2401 L1828,2398 L1830,2397 L1832,2395 L1835,2394 L1837,2393 L1840,2392 Z M1643,1874 H1644 H1644 H1644 V1875 H1644 H1644 V1876 H1644 H1644 H1643 H1633 H1624 H1624 H1623 H1623 V1875 H1623 H1623 V1874 H1624 H1624 H1624 H1633 Z M1604,1871 V1878 V1882 L1603,1886 L1602,1889 L1601,1893 L1599,1896 L1597,1899 L1594,1902 L1592,1905 L1589,1907 L1586,1909 L1582,1911 L1579,1912 L1575,1913 L1572,1914 H1568 L1496,1913 H1493 L1489,1912 L1485,1911 L1482,1910 L1478,1908 L1475,1906 L1472,1904 L1470,1901 L1467,1898 L1465,1895 L1464,1892 L1462,1888 V1885 L1461,1881 V1877 V1870 V1866 L1462,1863 L1463,1859 L1464,1855 L1466,1852 L1468,1849 L1470,1846 L1473,1843 L1476,1841 L1479,1839 L1482,1837 L1486,1836 L1489,1835 H1493 L1497,1834 L1568,1835 H1572 L1576,1836 L1580,1837 L1583,1838 L1586,1840 L1589,1842 L1592,1844 L1595,1847 L1597,1850 L1599,1853 L1601,1857 L1602,1860 L1603,1864 L1604,1867 Z M1665,1940 V1981 L1662,2352 V2355 L1661,2358 L1660,2360 L1659,2363 L1657,2365 L1655,2367 L1653,2368 L1651,2370 H1648 L1645,2371 H1643 L1557,2370 H1554 H1551 L1549,2369 L1546,2367 L1544,2366 L1542,2364 L1541,2362 L1539,2359 V2357 L1538,2354 V2351 L1541,1967 V1951 V1949 L1542,1946 L1543,1944 L1544,1942 L1546,1941 L1548,1939 L1550,1938 L1552,1937 H1555 L1564,1936 L1574,1935 L1584,1933 L1594,1931 L1603,1928 L1613,1926 L1622,1922 L1631,1918 H1633 H1633 L1636,1917 L1639,1916 H1642 H1645 L1648,1917 L1651,1918 L1654,1919 L1656,1921 L1659,1923 L1661,1925 L1662,1928 L1664,1931 L1665,1934 V1937 Z M1700,2391 H1786 L1788,2392 H1791 L1793,2393 L1796,2395 L1798,2396 L1800,2398 L1802,2400 L1803,2403 L1804,2405 V2408 V2411 L1802,2745 L1801,2748 V2751 L1800,2753 L1798,2756 L1797,2758 L1795,2760 L1792,2761 L1790,2762 L1787,2763 L1701,2786 H1698 H1695 H1693 L1690,2785 L1687,2784 L1685,2782 L1683,2780 L1681,2778 L1679,2775 L1678,2773 V2770 L1677,2767 L1680,2410 L1681,2407 V2404 L1682,2402 L1684,2399 L1685,2397 L1687,2395 L1689,2394 L1692,2392 L1694,2391 H1697 Z M1442,1873 V1874 H1442 H1441 H1441 V1875 L1432,1874 H1421 H1421 H1421 H1421 H1420 V1873 H1420 L1421,1872 H1421 H1421 H1421 H1432 H1441 H1441 H1441 L1442,1873 H1442 Z M1522,1951 V1967 L1519,2351 V2354 L1518,2356 L1517,2359 L1516,2361 L1514,2364 L1512,2365 L1510,2367 L1507,2368 L1505,2369 L1502,2370 H1500 L1414,2369 H1411 L1408,2368 L1406,2367 L1403,2366 L1401,2364 L1399,2363 L1398,2360 L1396,2358 L1395,2355 V2353 V2350 L1398,1943 V1938 L1399,1935 V1931 L1400,1928 L1402,1926 L1403,1923 L1406,1921 L1408,1919 L1411,1917 L1414,1916 L1417,1915 L1420,1914 H1423 H1426 L1429,1915 L1432,1916 L1433,1917 L1442,1921 L1451,1924 L1461,1927 L1470,1930 L1480,1932 L1489,1934 L1499,1936 L1509,1937 H1511 L1514,1938 L1516,1939 L1518,1940 L1519,1942 L1520,1944 L1521,1946 L1522,1949 Z M1642,2390 H1645 L1648,2391 L1650,2392 L1653,2393 L1655,2395 L1657,2397 L1658,2399 L1660,2402 L1661,2404 V2407 V2410 L1658,2782 V2785 L1657,2787 L1656,2790 L1655,2792 L1653,2795 L1651,2797 L1649,2798 L1646,2799 L1644,2800 L1558,2822 L1555,2823 H1552 H1549 L1546,2822 L1544,2821 L1541,2819 L1539,2817 L1537,2815 L1536,2812 L1535,2810 L1534,2807 V2804 L1537,2408 L1538,2406 V2403 L1539,2401 L1540,2398 L1542,2396 L1544,2394 L1546,2392 L1549,2391 L1551,2390 H1554 H1557 Z M1358,1873 H1358 H1358 V1874 H1357 H1357 L1278,1873 H1278 H1278 H1277 V1872 H1277 H1277 V1871 H1278 H1278 H1278 H1357 V1872 H1358 H1358 H1358 Z M1379,1911 L1376,2350 L1375,2353 V2355 L1374,2358 L1373,2360 L1371,2362 L1369,2364 L1367,2366 L1364,2367 L1362,2368 L1359,2369 H1356 L1271,2368 H1268 L1265,2367 L1263,2366 L1260,2365 L1258,2363 L1256,2361 L1255,2359 L1253,2357 L1252,2354 V2351 V2349 L1255,1910 L1256,1907 V1905 L1257,1902 L1259,1900 L1260,1897 L1262,1896 L1264,1894 L1267,1893 L1269,1892 L1272,1891 H1275 L1360,1892 H1363 L1366,1893 L1368,1894 L1371,1895 L1373,1897 L1375,1898 L1376,1901 L1378,1903 L1379,1906 V1908 Z M1518,2408 L1515,2819 V2822 L1514,2824 L1513,2827 L1512,2829 L1510,2832 L1508,2834 L1506,2835 L1503,2836 L1500,2837 L1414,2859 L1412,2860 H1409 H1406 L1403,2859 L1400,2858 L1398,2856 L1396,2854 L1394,2852 L1392,2849 L1391,2847 V2844 V2841 L1394,2407 V2405 L1395,2402 L1396,2399 L1397,2397 L1399,2395 L1401,2393 L1403,2391 L1406,2390 L1408,2389 L1411,2388 H1413 L1499,2389 H1502 L1505,2390 L1507,2391 L1510,2392 L1512,2394 L1514,2396 L1515,2398 L1517,2400 L1518,2403 V2406 Z M1215,1871 V1872 H1215 H1215 L1214,1873 H1214 L1135,1872 H1135 H1135 L1134,1871 H1134 H1134 V1870 H1134 H1135 H1135 H1135 H1214 H1214 H1215 V1871 H1215 Z M1236,1910 L1233,2349 L1232,2351 V2354 L1231,2357 L1229,2359 L1228,2361 L1226,2363 L1224,2365 L1221,2366 L1219,2367 H1216 L1213,2368 L1127,2367 H1125 L1122,2366 L1120,2365 L1117,2364 L1115,2362 L1113,2360 L1111,2358 L1110,2355 L1109,2353 V2350 V2348 L1112,1909 L1113,1906 V1903 L1114,1901 L1115,1898 L1117,1896 L1119,1894 L1121,1893 L1124,1891 H1126 L1129,1890 H1132 L1217,1891 H1220 H1223 L1225,1892 L1228,1894 L1230,1895 L1232,1897 L1233,1899 L1235,1902 L1236,1904 V1907 Z M1375,2407 L1371,2856 V2859 L1370,2861 L1369,2864 L1368,2866 L1366,2869 L1364,2870 L1362,2872 L1360,2873 L1357,2874 L1271,2896 L1268,2897 H1265 H1262 L1260,2896 L1257,2895 L1254,2893 L1252,2891 L1250,2889 L1249,2886 L1248,2883 L1247,2881 V2878 L1251,2406 V2403 L1252,2401 L1253,2398 L1254,2396 L1256,2394 L1258,2392 L1260,2390 L1262,2389 L1265,2388 L1268,2387 H1270 L1356,2388 H1359 L1362,2389 L1364,2390 L1367,2391 L1369,2393 L1371,2395 L1372,2397 L1374,2399 V2402 L1375,2404 Z M1072,1870 V1871 H1072 H1072 H1071 H1071 L949,1870 H948 H948 H948 H948 V1869 H948 V1868 H948 H948 H949 L1071,1869 H1071 H1072 V1870 H1072 Z M1232,2406 L1228,2893 V2896 L1227,2898 L1226,2901 L1225,2903 L1223,2905 L1221,2907 L1219,2909 L1216,2910 L1214,2911 L1128,2933 L1125,2934 H1122 H1119 L1116,2933 L1113,2931 L1111,2930 L1109,2928 L1107,2926 L1106,2923 L1105,2920 L1104,2918 V2915 L1108,2405 V2402 L1109,2399 L1110,2397 L1111,2394 L1113,2392 L1115,2390 L1117,2389 L1119,2388 L1122,2387 L1125,2386 H1127 L1213,2387 H1216 H1219 L1221,2388 L1223,2390 L1226,2391 L1228,2393 L1229,2395 L1230,2398 L1231,2400 L1232,2403 Z" stroke="none" fill="#dbdbdb" fill-rule="evenodd" id="lote-2" class="lote" />
        
        <!-- Adicione mais elementos conforme necessário -->
        <!-- Para simplificar, estou adicionando apenas 2 lotes principais -->
        <!-- Você pode adicionar todos os paths/polygons do seu SVG aqui -->
        
        <!-- Container para labels -->
        <g id="labels"></g>
      </svg>
      
      <div class="legend">
        <span><i class="box" style="background:var(--done)"></i>Produzido</span>
        <span><i class="box" style="background:var(--remaining)"></i>Falta</span>
        <span><i class="box" style="background:var(--current)"></i>Em execução</span>
        <span><i class="box" style="background:#dbdbdb"></i>Lotes</span>
        <span><i class="box" style="background:#ffbf00"></i>Demarcação</span>
        <span><i class="box" style="background:#bababa"></i>Ruas</span>
      </div>
    </div>
    
    <div class="terminal-area">
      <div class="terminal" id="terminal">
        <div class="terminal-line">Sistema de Controle de Produção de Lotes</div>
        <div class="terminal-line">Digite 'ajuda' para ver os comandos disponíveis</div>
        <div class="terminal-line">&nbsp;</div>
        <div class="terminal-line terminal-prompt">produção@lotes:~$</div>
      </div>
      
      <div class="terminal-input">
        <span class="terminal-prompt">$</span>
        <input type="text" id="command-input" placeholder="Digite um comando...">
      </div>
      
      <div class="help">
        <h3>Comandos disponíveis:</h3>
        <ul>
          <li><code>produzir [lote] [metros]</code> - Registrar produção em um lote</li>
          <li><code>iniciar [lote] [metros]</code> - Iniciar produção em um lote</li>
          <li><code>status [lote]</code> - Ver status de um lote</li>
          <li><code>listar</code> - Listar todos os lotes</li>
          <li><code>limpar</code> - Limpar o terminal</li>
          <li><code>ajuda</code> - Mostrar esta ajuda</li>
        </ul>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const svg = document.getElementById('svgmap');
      const terminal = document.getElementById('terminal');
      const commandInput = document.getElementById('command-input');
      
      // Dados de produção
      const productionData = {};
      
      // Processar elementos do SVG
      function processSVGElements() {
        const paths = svg.querySelectorAll('path, polygon, polyline');
        
        paths.forEach((element, index) => {
          const id = element.id;
          const fill = element.getAttribute('fill');
          const stroke = element.getAttribute('stroke');
          
          // Identificar lotes (áreas cinza sem borda)
          if (fill === '#dbdbdb' && (!stroke || stroke === 'none')) {
            element.classList.add('lote');
            productionData[id] = {
              name: id,
              type: 'lote',
              total: 100, // Valor padrão em metros
              produced: 0,
              inProgress: 0
            };
            
            // Adicionar evento de clique para facilitar identificação
            element.addEventListener('click', () => {
              addTerminalLine(`Lote selecionado: ${id}`, 'prompt');
              commandInput.value = `status ${id}`;
              commandInput.focus();
            });
          }
        });
        
        addTerminalLine(`Sistema carregado. ${Object.keys(productionData).length} lotes identificados.`);
        addLabels();
        updateMap();
      }
      
      // Função para adicionar linha ao terminal
      function addTerminalLine(text, type = 'normal') {
        const line = document.createElement('div');
        line.className = 'terminal-line';
        
        if (type === 'error') {
          line.classList.add('terminal-error');
        } else if (type === 'prompt') {
          line.classList.add('terminal-prompt');
        }
        
        line.textContent = text;
        terminal.appendChild(line);
        terminal.scrollTop = terminal.scrollHeight;
      }
      
      // Função para adicionar labels aos lotes
      function addLabels() {
        // Remover labels antigos se existirem
        const oldLabels = document.getElementById('labels');
        if (oldLabels) oldLabels.remove();
        
        const labelsGroup = document.createElementNS('http://www.w3.org/2000/svg', 'g');
        labelsGroup.id = 'labels';
        
        Object.keys(productionData).forEach(id => {
          const element = document.getElementById(id);
          if (!element) return;
          
          try {
            const bbox = element.getBBox();
            const cx = bbox.x + bbox.width / 2;
            const cy = bbox.y + bbox.height / 2;
            
            // Só adicionar label se o lote for grande o suficiente
            if (bbox.width < 50 || bbox.height < 30) return;
            
            const g = document.createElementNS('http://www.w3.org/2000/svg', 'g');
            
            const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
            rect.setAttribute('x', cx - 45);
            rect.setAttribute('y', cy - 10);
            rect.setAttribute('rx', 4);
            rect.setAttribute('ry', 4);
            rect.setAttribute('width', 90);
            rect.setAttribute('height', 20);
            rect.setAttribute('fill', 'rgba(255,255,255,0.9)');
            rect.setAttribute('stroke', '#666');
            rect.setAttribute('stroke-width', '1');
            
            const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
            text.setAttribute('x', cx);
            text.setAttribute('y', cy + 5);
            text.setAttribute('text-anchor', 'middle');
            text.setAttribute('font-size', '10');
            text.setAttribute('font-weight', '600');
            text.setAttribute('fill', '#333');
            text.setAttribute('data-id', id);
            
            const data = productionData[id];
            const percent = Math.round((data.produced / data.total) * 100);
            text.textContent = `${id}: ${data.produced}/${data.total}m`;
            
            g.appendChild(rect);
            g.appendChild(text);
            labelsGroup.appendChild(g);
          } catch(e) {
            console.warn('Não foi possível adicionar label para', id, e);
          }
        });
        
        svg.appendChild(labelsGroup);
      }
      
      // Função para atualizar o mapa
      function updateMap() {
        // Remover elementos de visualização anteriores
        document.querySelectorAll('.map-overlay').forEach(el => el.remove());
        
        // Atualizar cada lote
        Object.keys(productionData).forEach(id => {
          const element = document.getElementById(id);
          if (!element || !productionData[id]) return;
          
          const data = productionData[id];
          const total = Math.max(0.0001, Number(data.total));
          const produced = Math.max(0, Math.min(total, Number(data.produced)));
          const inProgress = Math.max(0, Math.min(total - produced, Number(data.inProgress)));
          
          // Criar overlay para produção concluída
          if (produced > 0) {
            const doneOverlay = element.cloneNode(true);
            doneOverlay.classList.add('map-overlay');
            doneOverlay.setAttribute('fill', 'var(--done)');
            doneOverlay.setAttribute('fill-opacity', '0.7');
            doneOverlay.setAttribute('stroke', 'none');
            element.parentNode.insertBefore(doneOverlay, element);
          }
          
          // Criar overlay para produção em andamento
          if (inProgress > 0) {
            const progressOverlay = element.cloneNode(true);
            progressOverlay.classList.add('map-overlay');
            progressOverlay.setAttribute('fill', 'var(--current)');
            progressOverlay.setAttribute('fill-opacity', '0.5');
            progressOverlay.setAttribute('stroke', 'none');
            element.parentNode.insertBefore(progressOverlay, element);
          }
          
          // Atualizar label
          updateLabel(id, produced, total);
        });
      }
      
      // Função para atualizar label
      function updateLabel(id, produced, total) {
        const label = document.querySelector(`#labels text[data-id="${id}"]`);
        if (label) {
          const percent = Math.round((produced / total) * 100);
          label.textContent = `${id}: ${produced}/${total}m (${percent}%)`;
        }
      }
      
      // Processar comandos
      function processCommand(command) {
        const parts = command.trim().toLowerCase().split(' ');
        const cmd = parts[0];
        const args = parts.slice(1);
        
        addTerminalLine(`$ ${command}`, 'prompt');
        
        switch(cmd) {
          case 'produzir':
            if (args.length < 2) {
              addTerminalLine('Uso: produzir [lote] [metros]', 'error');
              return;
            }
            
            const loteProd = args[0];
            const metrosProd = parseFloat(args[1]);
            
            if (!productionData[loteProd]) {
              addTerminalLine(`Lote '${loteProd}' não encontrado. Use 'listar' para ver os lotes disponíveis.`, 'error');
              return;
            }
            
            if (isNaN(metrosProd) || metrosProd <= 0) {
              addTerminalLine('Quantidade de metros deve ser um número positivo.', 'error');
              return;
            }
            
            productionData[loteProd].produced += metrosProd;
            if (productionData[loteProd].produced > productionData[loteProd].total) {
              productionData[loteProd].produced = productionData[loteProd].total;
              addTerminalLine(`Atenção: Produção limitada ao total do lote (${productionData[loteProd].total}m).`);
            }
            
            addTerminalLine(`Produção de ${metrosProd}m registrada no lote ${loteProd}.`);
            updateMap();
            break;
            
          case 'iniciar':
            if (args.length < 2) {
              addTerminalLine('Uso: iniciar [lote] [metros]', 'error');
              return;
            }
            
            const loteIni = args[0];
            const metrosIni = parseFloat(args[1]);
            
            if (!productionData[loteIni]) {
              addTerminalLine(`Lote '${loteIni}' não encontrado. Use 'listar' para ver os lotes disponíveis.`, 'error');
              return;
            }
            
            if (isNaN(metrosIni) || metrosIni <= 0) {
              addTerminalLine('Quantidade de metros deve ser um número positivo.', 'error');
              return;
            }
            
            productionData[loteIni].inProgress = metrosIni;
            addTerminalLine(`Produção de ${metrosIni}m iniciada no lote ${loteIni}.`);
            updateMap();
            break;
            
          case 'status':
            if (args.length < 1) {
              addTerminalLine('Uso: status [lote]', 'error');
              return;
            }
            
            const loteStatus = args[0];
            
            if (!productionData[loteStatus]) {
              addTerminalLine(`Lote '${loteStatus}' não encontrado. Use 'listar' para ver os lotes disponíveis.`, 'error');
              return;
            }
            
            const data = productionData[loteStatus];
            const percent = Math.round((data.produced / data.total) * 100);
            addTerminalLine(`Status do lote ${loteStatus}:`);
            addTerminalLine(`  Total: ${data.total}m`);
            addTerminalLine(`  Produzido: ${data.produced}m (${percent}%)`);
            addTerminalLine(`  Em execução: ${data.inProgress}m`);
            addTerminalLine(`  Restante: ${data.total - data.produced}m`);
            break;
            
          case 'listar':
            addTerminalLine('Lotes disponíveis:');
            Object.keys(productionData).forEach(id => {
              if (productionData[id].type === 'lote') {
                const data = productionData[id];
                const percent = Math.round((data.produced / data.total) * 100);
                addTerminalLine(`  ${id}: ${data.produced}/${data.total}m (${percent}%)`);
              }
            });
            break;
            
          case 'limpar':
            terminal.innerHTML = '';
            addTerminalLine('Terminal limpo.');
            break;
            
          case 'ajuda':
            addTerminalLine('Comandos disponíveis:');
            addTerminalLine('  produzir [lote] [metros] - Registrar produção em um lote');
            addTerminalLine('  iniciar [lote] [metros] - Iniciar produção em um lote');
            addTerminalLine('  status [lote] - Ver status de um lote');
            addTerminalLine('  listar - Listar todos os lotes');
            addTerminalLine('  limpar - Limpar o terminal');
            addTerminalLine('  ajuda - Mostrar esta ajuda');
            break;
            
          default:
            addTerminalLine(`Comando '${cmd}' não reconhecido. Digite 'ajuda' para ver os comandos disponíveis.`, 'error');
        }
      }
      
      // Event listener para entrada de comandos
      commandInput.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') {
          const command = commandInput.value.trim();
          if (command) {
            processCommand(command);
            commandInput.value = '';
          }
        }
      });
      
      // Processar elementos do SVG
      processSVGElements();
      
      // Focar no input ao carregar a página
      commandInput.focus();
    });
  </script>
</body>
</html>